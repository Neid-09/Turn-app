spring:
    cloud:
        gateway:
            discovery:
                locator:
                    enabled: true   # Habilita el ruteo dinámico con Eureka
                    lower-case-service-id: true   # Convierte los nombres a minúscula (más limpio en las rutas)
            default-filters: TokenRelay

    security:
        oauth2:
            client:
                provider: 
                    keycloak:
                        issuer-uri: http://localhost:9090/realms/myturnapp-microservices-realm
                registration:
                    spring-cloud-gateway-client:
                        client-id: spring-cloud-gateway-client
                        client-secret: TY9ZR7OLobEUB2Pny7NWSxZdVHUptt3J
                        provider: keycloak
                        authorization-grant-type: authorization_code
                        redirect-uri: http://localhost:8080/login/oauth2/code/spring-cloud-gateway-client

eureka:
    instance:
        hostname: 127.0.0.1
        instance-id: ${spring.application.name}:${random.uuid}
        prefer-ip-address: true
    client:
        register-with-eureka: true
        fetch-registry: true
        service-url: 
            defaultZone: http://${eureka.instance.hostname}:8761/eureka/
server:
    port: 8080